{% block content %}
<div class="modal-header">
    <h5 class="modal-title">
      {% if device %}Edit {{ device.name }}{% else %}Add Network Device{% endif %}
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
  </div>
  <form method="post"
        hx-post="{% if device %}{% url 'inventory_edit_modal' device.pk %}{% else %}{% url 'inventory_add_modal' %}{% endif %}"
        hx-target="#inventoryModal .modal-content"
        hx-swap="outerHTML">
    {% csrf_token %}
    <div class="modal-body">
      {{ form.as_p }}
    </div>
    <div class="modal-footer">
      <button type="submit" class="btn btn-primary">Save</button>
      {% if device %}
        <button type="button"
          class="btn btn-danger"
          hx-post="{% url 'inventory_delete_modal' device.pk %}"
          hx-vals='{"_method":"DELETE"}'
          hx-confirm="Really delete {{ device.name }}?">
            Delete
        </button>
      {% endif %}
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    </div>
  </form>
{% endblock %}